div(ng-controller="EditableFormCtrl")
  form(editable-form name="editableForm" onaftersave="saveUser()")
    div
      span(class="title")User name:
      span(editable-text="user.name" e-name="name" onbeforesave="checkName($data)" e-required){{ user.name || 'empty' }}
    div
      span(class="title")Status:
      span(editable-select="user.status" e-name="status" e-ng-options="s.value as s.text for s in statuses")
        {{ (statuses | filter:{value: user.status})[0].text || 'Not set' }}
    div
      span(class="title")Group:
      span(editable-select="user.group" e-name="group" onshow="loadGroups()" e-ng-options="g.id as g.text for g in groups")
        {{ showGroup() }}
    div(class="buttons")
      button(type="button" class="btn btn-default" ng-click="editableForm.$show()" ng-show="!editableForm.$visible") Edit
      span(ng-show="editableForm.$visible")
        button(type="submit" class="btn btn-primary" ng-disabled="editableForm.$waiting") Save
        button(type="button" class="btn btn-default" ng-disabled="editableForm.$waiting" ng-click="editableForm.$cancel()") Cancel
